To Do
-Abstract router stuff to seperate module to clean up this file.
-Whatever I've said in the comments of the code.
-setting sessionid on verify
-verify itself
-password reset
